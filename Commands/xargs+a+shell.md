#用于给命令传递参数的过滤器,将得到的数据传递给命令作为参数
xargs 选项 命令

#常用选项
-I 替换字符串	#表示将命令中的替换字符串,替换成stdin的数据.
-i		#表示将命令中的{}替换为stdin中数据,等同于-I {}
-t		#表示先打印命令在执行
-p		#在运行命令之前进行确认,使操作具有交互性.
-n 数字		#限制单个命令行的参数个数
-d 分隔符	#规定stdin中数据的分隔符,缺省为IFS
-0		#规定将\0作为输入的分隔符

#注意
1.大部分情况下,我们可以通过管道将一个命令的stdout作为另外一个命令的stdin.但是有些命令只能以命令行参数的形式接收数据,而无法通过stdin接收数据.在这种情况下,我们无法使用管道完成数据的传递,只能使用xargs.
2.它可以把一个数据流分割为一些足够小的块，以方便过滤器和命令进行处理.如果xargs获得的命令数大于-n选项指定的数字,会执行多遍命令直到遍历所有的数据.这样就可以将单行的stdin变成多行的命令行参数了.默认情况下xargs会将多行的数据变成单行.
3.使用-I 替换字符串或者-i选项,对于任意一个命令,替换字符串或{}会被从stdin中读取的数据替换.且命令就似乎是在一个循环中执行一样.
4.在没有规定分隔符的情况下,进行修改操作是很危险的.例如stdin中的数据为new demo.txt本来是一个文件,在没有使用-d选项的情况下xargs会将输入视为new,demo.txt两个文件.所以规定好上一个命令输出的分隔符和-d选项是使用xargs时必修慎重考虑的因素.

#示例
ls| xargs -t -i mv {} {}.bak		#集体改名,这种情况是很危险的
find . -type f -print0 | xargs -0 -i mv {} {}.bak	#防止文件名中有空格

#找到当前目录下所有的.sh文件并两两通过diff比较
find . -name '*.sh' |xargs -n 2 diff	

ls | xargs -I KKK sort -r KKK -d	#将sort命令中指定位置替换为stdin
